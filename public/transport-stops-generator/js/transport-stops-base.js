$(document).ready((function(){$("#createPDF").click((function(){createPDF()})),signWidth()}));const PT_TO_MM=2.8346456692913,EM_TO_MM=.3514598035146;function getCharSpace(e,t){return e*EM_TO_MM*t/1e3}function cmykVal(e){return(e/100).toString()}function createPDF(){let e,t,l,r,i=$("#nameRu").val(),o=$("#nameEn").val(),s=o.replace(/ /gi,"-")+".pdf",c=$("#nameRu").val().length,n=3090,F=230;c<=23?(e=1535,t=1539):c>=24&&c<=29?(e=1020,t=1024):c>=30&&(e=762.5,t=766.5);let a=[{contents:i,fontSize:322,fontTracking:0,align:"left",position:{x:e,y:F/3-5},baseline:"middle",font:"IsetSansBold",fontStyle:"normal",color:{c:0,m:0,y:0,k:0}},{contents:o,fontSize:190,fontTracking:0,align:"left",position:{x:t,y:209},baseline:"bottom",font:"IsetSansItalic",fontStyle:"normal",color:{c:0,m:0,y:0,k:50}}];const p=new jsPDF({orientation:"l",unit:"mm",format:[n,F],putOnlyUsedFonts:!0});for(p.setDrawColor(0),p.setFillColor("0.7","0.5","0.5","1.0"),p.rect(0,0,n,F,"F"),$("#bus-check").is(":checked")&&$("#trol-check").is(":checked")?(p.setDrawColor(0),p.setFillColor("0.8","0.0","1.0","0.0"),p.rect(62.275,98.741,13.879,33.755,"F"),p.rect(205.991,98.741,13.879,33.755,"F"),p.rect(83.205,69.807,115.519,115.735,"F"),p.rect(97.455,55.557,86.804,16.905,"F"),p.ellipse(97.455,69.807,14.25,14.25,"F"),p.ellipse(184.473,69.807,14.25,14.25,"F"),p.setDrawColor(0),p.setFillColor("0.7","0.5","0.5","1.0"),p.rect(97.454,69.807,86.804,15.288,"F"),p.rect(97.454,98.74,86.804,38.579,"F"),p.rect(102.385,175.898,77.158,11.47,"F"),p.ellipse(102.278,156.607,9.645,9.645,"F"),p.ellipse(179.436,156.607,9.645,9.645,"F"),p.setDrawColor(0),p.setFillColor("1.0","0.0","0.0","0.0"),p.rect(265.87,98.741,13.879,33.755,"F"),p.rect(409.586,98.741,13.879,33.755,"F"),p.rect(286.8,69.807,115.519,115.735,"F"),p.rect(301.05,55.557,86.804,16.905,"F"),p.ellipse(301.05,69.807,14.25,14.25,"F"),p.ellipse(388.068,69.807,14.25,14.25,"F"),p.triangle(315.608,42.331,336.067,21.871,346.296,32.1,"F"),p.triangle(315.608,42.331,325.837,52.559,346.296,32.1,"F"),p.triangle(351.851,42.331,372.311,21.871,382.541,32.1,"F"),p.triangle(351.851,42.331,362.081,52.559,382.541,32.1,"F"),p.setDrawColor(0),p.setFillColor("0.7","0.5","0.5","1.0"),p.rect(301.049,69.807,86.804,15.288,"F"),p.rect(301.05,98.74,86.804,38.579,"F"),p.rect(305.98,175.898,77.158,11.47,"F"),p.ellipse(305.873,156.607,9.645,9.645,"F"),p.ellipse(383.031,156.607,9.645,9.645,"F")):$("#bus-check").is(":checked")?(p.setDrawColor(0),p.setFillColor("0.8","0.0","1.0","0.0"),p.rect(62.275,98.741,13.879,33.755,"F"),p.rect(205.991,98.741,13.879,33.755,"F"),p.rect(83.205,69.807,115.519,115.735,"F"),p.rect(97.455,55.557,86.804,16.905,"F"),p.ellipse(97.455,69.807,14.25,14.25,"F"),p.ellipse(184.473,69.807,14.25,14.25,"F"),p.setDrawColor(0),p.setFillColor("0.7","0.5","0.5","1.0"),p.rect(97.454,69.807,86.804,15.288,"F"),p.rect(97.454,98.74,86.804,38.579,"F"),p.rect(102.385,175.898,77.158,11.47,"F"),p.ellipse(102.278,156.607,9.645,9.645,"F"),p.ellipse(179.436,156.607,9.645,9.645,"F")):$("#trol-check").is(":checked")?(p.setDrawColor(0),p.setFillColor("1.0","0.0","0.0","0.0"),p.rect(62.275,98.741,13.879,33.755,"F"),p.rect(205.991,98.741,13.879,33.755,"F"),p.rect(83.205,69.807,115.519,115.735,"F"),p.rect(97.455,55.557,86.804,16.905,"F"),p.ellipse(97.455,69.807,14.25,14.25,"F"),p.ellipse(184.473,69.807,14.25,14.25,"F"),p.triangle(112.013,42.331,132.472,21.871,142.701,32.1,"F"),p.triangle(112.013,42.331,122.242,52.559,142.701,32.1,"F"),p.triangle(148.257,42.331,168.716,21.871,178.946,32.1,"F"),p.triangle(148.257,42.331,158.486,52.559,178.946,32.1,"F"),p.setDrawColor(0),p.setFillColor("0.7","0.5","0.5","1.0"),p.rect(97.454,69.807,86.804,15.288,"F"),p.rect(97.454,98.74,86.804,38.579,"F"),p.rect(102.385,175.898,77.158,11.47,"F"),p.ellipse(102.278,156.607,9.645,9.645,"F"),p.ellipse(179.436,156.607,9.645,9.645,"F")):$("#tram-check").is(":checked")&&(p.setDrawColor(0),p.setFillColor("0.0","0.6","1.0","0.0"),p.rect(62.275,98.741,13.88,33.755,"F"),p.rect(205.992,98.741,13.879,33.755,"F"),p.rect(83.207,69.807,115.733,62.69,"F"),p.rect(97.672,55.342,86.804,31.604,"F"),p.rect(102.495,132.496,77.158,38.579,"F"),p.ellipse(97.672,69.807,14.465,14.465,"F"),p.ellipse(184.475,69.807,14.465,14.465,"F"),p.triangle(83.207,132.497,88.202,157.41,141.073,132.496,"F"),p.triangle(141.073,132.496,193.945,157.41,198.94,132.497,"F"),p.ellipse(102.495,158.227,12.8475,12.8475,"F"),p.ellipse(179.652,158.227,12.8475,12.8475,"F"),p.ellipse(103.341,156.422,14.6535,14.6535,"F"),p.ellipse(178.806,156.422,14.6535,14.6535,"F"),p.ellipse(104.678,154.343,16.732,16.732,"F"),p.ellipse(177.469,154.343,16.732,16.732,"F"),p.rect(102.495,21.586,77.156,13.646,"F"),p.triangle(126.36,42.331,145.639,23.052,155.867,33.281,"F"),p.triangle(126.36,42.331,136.589,52.559,155.867,33.281,"F"),p.triangle(100.778,195.358,121.237,174.898,131.466,185.127,"F"),p.triangle(100.778,195.358,111.007,205.586,131.466,185.127,"F"),p.triangle(137.022,195.358,157.482,174.898,167.711,185.127,"F"),p.triangle(137.022,195.358,147.251,205.586,167.711,185.127,"F"),p.setDrawColor(0),p.setFillColor("0.7","0.5","0.5","1.0"),p.rect(97.672,69.807,86.804,15.696,"F"),p.rect(97.672,99.224,86.804,33.273,"F"),p.ellipse(116.961,151.786,9.645,9.645,"F"),p.ellipse(165.185,151.786,9.645,9.645,"F")),l=0;l<a.length;l++)r=a[l],p.internal.write("q"),p.setFont(r.font,r.fontStyle),p.setFontSize(r.fontSize),p.setTextColor(cmykVal(r.color.c),cmykVal(r.color.m),cmykVal(r.color.y),cmykVal(r.color.k)),p.text(r.contents,r.position.x,r.position.y,{baseline:r.baseline,charSpace:getCharSpace(r.fontSize,r.fontTracking),align:r.align,renderingMode:"addToPathForClipping"}),p.rect(0,0,n,F,"F"),p.internal.write("Q");p.save(s)}function signWidth(){var e=$("#nameRu"),t=$("#stop-icons"),l=$("#stop-name");e.on("change paste keyup",(function(){e.val().length<=17?(l.css("margin-top",".25vw"),e.css("font-size","4vw"),t.css("width","50%"),l.css("width","50%")):e.val().length>=18&&e.val().length<=24?(l.css("margin-top",".25vw"),e.css("font-size","4vw"),t.css("width","35%"),l.css("width","65%")):e.val().length>=25&&e.val().length<=28?(l.css("margin-top",".25vw"),e.css("font-size","4vw"),t.css("width","25%"),l.css("width","75%")):e.val().length>=29&&(t.css("width","25%"),l.css("width","75%"),l.css("margin-top",".5vw"),e.css("font-size","3.3vw"))})),e.keyup()}